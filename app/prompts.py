"""
提示词管理模块
使用Python文件存储提示词，便于编辑和管理
"""

# 提示词配置字典
prompts_config = {
    "features": {
        "商品主图": """
        你将收到 5 张图片：
        - images[0]: 参考布局图（严格按照此布局，位置、比例、间距都不能变）
        - images[1]: 纸巾花纹
        - images[2]: 6寸餐盘花纹
        - images[3]: 9寸餐盘花纹
        - images[4]: 刀叉图片
        任务类型：【精确贴图组合】，不是重新设计，不是风格参考。严格执行以下操作：
        1) 严格按照 images[0] 的布局结构，保留所有位置、比例、间距
        2) 将 images[1] 的图案原样贴到纸巾的表面印刷区域
        3) 将 images[2] 的图案原样贴到6寸餐盘的正面印刷区域
        4) 将 images[3] 的图案原样贴到9寸餐盘的正面印刷区域
        5) 将 images[4] 的刀叉原样放置在参考图中右上角的位置
        绝对禁止的行为：不得重绘图案、不得重新设计、不得改变布局、不得修改任何内容
        输出要求：严格按照 images[0] 的布局，1:1 比例，纯白背景
        """,
        "商品展示图1": """
        创建一个高质量的专业电商信息图，用于宴会餐具套装，风格干净简洁。

        输入图像使用规则（必须遵守）：
        - 图1展示的是餐盘图案。将图1的图案**只**应用到所有餐盘表面（清晰、准确、居中、锐利）。保留真实的餐盘阴影和高光。
        - 图2展示的是纸巾图案。将图2的图案**只**应用到纸巾上（清晰、准确、锐利），要与纸巾的折叠角度匹配。
        - 使用提供的白色一次性塑料刀叉参考图像作为刀叉模型。刀叉必须是纯白色塑料材质，带有真实的高光，**绝对不能**有任何图案印在上面。

        画布与布局：
        - 正方形 1:1 布局，居中构图。
        - 顶部：一个宽横幅，颜色与上传图片的主题一致（柔和粉彩云朵/星星风格）。添加标题文字，文字内容必须完全一致：
        "High-Quality Banquet Tableware Set"
        文字样式：粗体白色无衬线字体，带有细轮廓以确保可读性。

        - 中间：干净纯白背景。
        - 左侧：一个正面朝前的大圆盘。清晰准确地应用图1图案；边缘锐利；保留真实阴影和高光。
        - 右侧：一叠整齐的方形纸巾（可见3-4层）。清晰准确地应用图2图案；保持锐利；与纸巾角度匹配。
        在纸巾堆叠顶部放置3-4把白色一次性塑料刀叉（稍微扇形展开或整齐叠放）。刀叉看起来要像一次性的且真实，带有高光和阴影，必须与任何图案分离。

        - 底部：一个与上传图像主题一致的宽条带，分成4个相等的方块。
        每个方块：顶部是一个白色圆形对勾图标，下方只有标签文字。
        从左到右的准确标签（文字必须完全一致）：
        1) "Food grade"
        2) "Leak"
        3) "Recyclable"
        4) "Thick paper"

        风格要求：
        - 专业电商信息图，干净简洁。
        - 间距平衡，元素对齐，无杂乱。
        - 除指定标题和四个标签外，不得添加任何文字。
        - 无商标，无水印，无品牌名称。

        最终质量检查：
        - 结构必须匹配：顶部横幅 + 产品区域 + 底部四个功能块。
        - 所有图案必须清晰且正确放置。
        - 刀叉必须是白色带真实高光，没有印刷图案。
        """,
        "商品尺寸图": """
        你将收到 5 张图片：
        - images[0]: 参考布局图（必须严格按照此布局）
        - images[1]: 纸巾表面图案
        - images[2]: 小餐盘（6寸）表面图案
        - images[3]: 大餐盘（9寸）表面图案
        - images[4]: 刀叉设计参考图

        绝对布局锁定（禁止偏移）：
        - 必须完美保留 images[0] 的布局
        - 禁止改变布局、构图、间距、对齐、比例、边距或相机角度
        - 禁止改变任何文字、措辞、数字、单位、箭头、标签、字体样式、字体大小或文字位置
        - 禁止添加、删除、重新设计或重新排列任何元素
        - 平面光线、锐利边缘、干净的亚马逊信息图风格
        - 禁止模糊、失真、风格化、阴影或额外图形

        背景规则：
        - 只有顶部 banner 区域允许有颜色
        - banner 下方的所有区域必须保持纯白背景
        - 禁止整体彩色洗涤、渐变背景或 banner 外的色调

        Banner 规则：
        - 保持 banner 的形状、大小和位置与 images[0] 完全一致
        - Banner 颜色必须与上传的产品主题匹配（柔和的粉彩色调，源自图案图片）
        - Banner 文字必须完全保持："96 PIECES PACKAGE INCLUDES"
        - 禁止文字编辑、字体更改、间距更改

        标签（底部文字胶囊）规则：
        - 保持所有标签文字与 images[0] 完全一致
        - 保持标签大小、形状、内边距、圆角半径和位置不变
        - 只将标签背景颜色更改为主题匹配的粉彩色调
        - 标签背景颜色必须与 banner 和产品图案主题视觉匹配
        - 禁止重新设计标签

        内容替换规则（仅允许这些更改）：
        - 纸巾：用 images[1] 替换纸巾表面，应用平面方形变形，完全对齐，不得溢出纸巾边缘
        - 小餐盘（6寸）：用 images[2] 替换餐盘表面，应用完美的居中圆形变形
        - 大餐盘（9寸）：用 images[3] 替换餐盘表面，应用完美的居中圆形变形
        - 刀叉：用 images[4] 的颜色替换参考图中的刀叉颜色。必须完整保留 images[4] 中的所有颜色，不能只保留其中一种颜色。刀叉的**形状、款式、轮廓**必须与 images[0]（参考布局图）中的刀叉**完全一致**，只改变颜色，不改变形状

        最终输出要求：
        - 完美保留 images[0] 的布局
        - 顶部 banner 使用主题匹配颜色
        - banner 下方的所有区域保持纯白
        - 所有底部标签背景匹配主题颜色
        - 禁止布局偏移
        - 禁止文字更改
        - 刀叉形状与 images[0] 完全一致，颜色与 images[4] 完全一致
        """,
        "商品展示图2": """
        
        正方形 1:1 高端电商产品信息图，用于一次性派对餐具，干净专业的产品摄影风格。

        输入图像使用（上传顺序非常重要）：
        - Image 1（第一张上传）：用作纸巾表面图案
        - Image 2（第二张上传）：用作大餐盘表面图案
        - Image 3（第三张上传）：用作刀叉参考和外观

        布局与构图：
        - 1:1 正方形画布
        - 中性暖色调背景（浅米色/奶油色）
        - 居中偏左：一个正面朝前的大圆盘（正面视角为主）
        - 餐盘上：一个整洁放置的方形纸巾，使用 Image 1 图案。纸巾应该看起来柔软、有层次、略微折叠，带有自然的纸质纹理
        - 餐盘左侧：一把刀叉垂直放置。刀叉必须与 Image 3 高度一致。一次性塑料刀叉，哑光浅灰色/米白色。柔软表面，无金属光泽，无铬色，无不锈钢质感。圆角边缘，仅有细微高光，非常低的反光
        - 餐盘右侧：添加一个小绿色植物或叶芽，用于视觉平衡（简约，仅装饰用）

        顶部标签：
        - 左上角：一个白色矩形标签
        - 文字必须完全一致："Metal dots design"
        - 字体：黑色干净无衬线字体

        图案应用（非常重要）：
        - 餐盘图案（Image 2）：清晰准确地应用到餐盘表面，居中且自然缩放
        - 纸巾图案（Image 1）：清晰应用到纸巾上，居中且自然缩放
        - 图案必须清晰、高分辨率、不模糊、不变形
        - 餐盘应有真实的深度，带有柔和的边缘阴影和背景软阴影
        - 纸巾应该看起来柔软且略有层次

        底部功能图标与文字：
        - 在底部区域整齐放置功能图标和简约线条图标
        - "Not easy to fall off"（不易脱落）
        - "Highly absorbent"（强吸水）
        - "Soft and comfortable"（柔软舒适）
        - 包含一个圆形徽章，文字必须完全一致："PARABEN FREE"

        风格要求：
        - 专业电商产品摄影风格
        - 干净、平衡的构图
        - 除指定内容外不得添加额外文字
        - 无商标、无水印、无品牌名称
        - 清晰突出餐盘和纸巾图案
        - 整体感觉应该真实、高端，适合在线产品展示
        
        """,
        "场景展示图1":""" 
        
        创建一个高质量、照片级真实的俯视 1:1 生活场景产品照片，展示节日派对/假日晚餐餐桌，适合 8-10 位客人。

        相机与场景：
        - 完美的俯视视角
        - 真实的木质餐桌
        - 带有柔和阴影的自然光线
        - 温馨、优雅、节日氛围

        输入图像使用（必须完全遵守）：
        - Image 1：用此图像作为**大号一次性餐盘**的图案
        - Image 2：用此图像作为**小号一次性甜点盘**的图案
        - Image 3：用此图像作为**一次性纸巾**的图案
        - Image 4：用此图像作为**一次性刀叉餐具**的设计

        餐桌布置要求：
        - 每个餐具套装包括：
          - 一个大号一次性餐盘（Image 1 图案，居中且清晰）
          - 一个折叠的一次性纸巾（Image 3 图案）整齐地放置在餐盘上面或旁边
          - 使用 Image 4 的一次性餐具（相同的形状、颜色和材质）
        - 在部分餐具位置或甜点附近放置小号一次性甜点盘（Image 2 图案）
        - 餐具在每个餐具位置整齐一致地排列

        食物与饮品：
        - 真实的节日菜肴（烤主菜、蔬菜、沙拉、面包、甜点）
        - 透明杯子中的饮品（水、柠檬水、气泡饮料）
        - 自然放置，不杂乱

        图案准确性（非常重要）：
        - 图案必须清晰可见、锐利且正确缩放
        - 禁止用其他设计替换图案
        - 禁止模糊、扭曲或风格化图案
        - 图案必须看起来像真实的一次性餐具印刷图案

        风格规则：
        - 真实的生活场景产品摄影
        - 无文字叠加
        - 无商标
        - 无水印
        - 无图标或标签

        """,
        "场景展示图2": """ 
        请将我上传的图案图像用作**唯一的最终印刷纹理来源**。

        图案内容必须保持 100% 原始且不得更改。禁止任何形式的设计修改，包括但不限于：
        - 禁止重绘
        - 禁止重新着色
        - 禁止重新排列
        - 禁止调整大小或比例变化
        - 禁止线条粗细变化
        - 禁止字体或文字内容更改
        - 禁止添加或删除任何图案元素

        该图案必须被视为已完成的印刷图案资源，而不是可以被重新创建或重新设计的设计元素。

        该图案只能作为真实世界的逼真印刷纹理使用，且仅允许印刷在：
        - 一个圆形一次性纸餐盘
        - 一个方形一次性纸纸巾

        图案必须真实地印刷在纸餐盘和纸巾表面。仅允许必要的透视弯曲、真实的光照和阴影，以及轻微的纸张纤维和印刷颗粒纹理。

        任何插画风格、卡通风格、风格化、3D 渲染、玩具般的纹理或虚拟材质外观都被严格禁止。

        最终图像必须是真实的现实世界电商产品照片，而不是概念图或设计模型图。

        场景与构图要求：
        - 白色或浅色的真实 fabric 桌布或桌面，可见纹理
        - 一个圆形纸餐盘放置在中心
        - 一个方形纸纸巾放置在餐盘下方，印刷有相同图案
        - 银色一次性塑料刀叉，与上传的参考图像在形状、颜色和材质上匹配，放置在餐盘上
        - 少量金色纸屑自然散落在桌面上
        - 场景边缘附近可以有少量小型装饰物品，但不得覆盖主要图案或文字

        摄影风格要求：
        - 自然柔和的光线
        - 高分辨率
        - 锐利焦点
        - 真实阴影
        - 干净的构图
        - 标准专业电商产品摄影

        以下内容在任何情况下都不得出现：
        - 重新设计、重新着色、重新排列、重绘或风格化的图案
        - 错误、缺失、镜像、扭曲或替换的文字
        - 卡通、插画、3D、渲染或玩具般的视觉效果
        - 人、手、品牌商标、水印或签名
        - 模糊图像、低分辨率、过度模糊或严重噪点

        """,
    },
    "default": "请根据提供的四张图像生成一个新的组合图像"
}

def get_prompt(feature: str) -> str:
    """
    根据功能名称获取对应的提示词
    
    Args:
        feature: 功能名称
        
    Returns:
        对应的提示词
    """
    features_prompts = prompts_config.get("features", {})
    default_prompt = prompts_config.get("default", "")
    return features_prompts.get(feature, default_prompt)